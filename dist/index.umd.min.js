/*!
 * @darwishdev/dash-dev v0.0.1
 * (c) 2023 ahmed darwish <a.darwish.dev@gmail.com>
 * Released under the MIT License.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("quasar"),require("vue")):"function"==typeof define&&define.amd?define(["quasar","vue"],n):(e="undefined"!=typeof globalThis?globalThis:e||self).dashDev=n(e.Quasar,e.Vue)}(this,function(d,f){"use strict";var c={name:"DDate",props:{modelValue:String,inputProps:Object,pickerProps:Object,isRequired:{type:Boolean,default:!1},transition:{type:String,default:"scale"},closeOnContentClick:{type:Boolean,default:!0},isIcon:{type:Boolean,default:!1}},setup:function(n,e){e.slots;function t(e){return!n.isRequired||null!=e&&""!=e&&null!=e&&/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)||"Required_date"}var u=e.emit,a=f.ref(!1),l=f.ref("");return n.isRequired.toString(),function(){return f.h(d.QInput,Object.assign({},n.inputProps,{modelValue:n.pickerProps.range?l:n.modelValue,readonly:n.pickerProps.range,rules:[t],onClick:function(){return n.pickerProps.range?a.value=!a.value:null},mask:n.pickerProps.range?"":"date","onUpdate:modelValue":function(e){n.pickerProps.range||u("update:modelValue",e)}}),{append:function(){return f.h(d.QIcon,{name:"event",class:"cursor-pointer"},[f.h(d.QPopupProxy,{cover:!0,modelValue:a.value,"onUpdate:modelValue":function(e){a.value=e},transitionShow:n.transition,transitionHide:n.transition},[f.h(d.QDate,Object.assign({},{modelValue:n.modelValue},n.pickerProps,{"onUpdate:modelValue":function(e){u("update:modelValue",e),n.pickerProps.range&&(l.value=e.from+" : "+e.to),n.closeOnContentClick&&(a.value=!1)}}),[n.closeOnContentClick?void 0:f.h("div",{class:"row items-center justify-end q-gutter-sm"},[f.h(d.QBtn,{label:"Close",flat:!0,onClick:function(){return a.value=!1}})])])])])}})}}},n={name:"DForm",props:{default:Object,inputs:Array,submitCallback:Function,modelValue:{type:Object,default:function(){return{}}},url:String,method:String},emits:["update","onSubmit","update:modelValue"],setup:function(t,e){var u=e.slots,a=e.emit,l={QInput:d.QInput,QSelect:d.QSelect,QBtn:d.QBtn,QRange:d.QRange,QDate:d.QDate,QRadio:d.QRadio,DDate:c,QCheckbox:d.QCheckbox,QOptionGroup:d.QOptionGroup,QSlider:d.QSlider,QToggle:d.QToggle},n=f.ref(null),o=f.ref(!1);function i(){t.inputs.forEach(function(e){return t.modelValue[e.default.name]=null})}function r(){a("onSubmit")}return f.onBeforeMount(function(){t.default.class+=" MForm",t.inputs.forEach(function(n){n.initialValue&&(t.modelValue[n.default.name]=n.initialValue),"function"==typeof n.getData&&(n.default.loading=!0,n.getData().then(function(e){n.default.options=e,n.default.loading=!1}).catch(function(e){console.log(e),n.default.loading=!1}))})}),function(){return o.value?f.h("div",{innerHTML:"Loading..."}):f.h(d.QForm,Object.assign({},t.default,{ref:n,onreset:i,submit:r}),t.inputs.map(function(n){return f.h("div",{class:"MForm__input "+n.cols},[null!=u["before-input-"+n.default.name]?u["before-input-"+n.default.name]():null,null==u["input-"+n.default.name]?f.h(l[n.component],Object.assign({},n.default,{modelValue:t.modelValue[n.default.name],"onUpdate:modelValue":function(e){t.modelValue[n.default.name]=e,a("update:modelValue",t.modelValue)}})):u["input-"+n.default.name](),null!=u["after-input-"+n.default.name]?u["after-input-"+n.default.name]():null])}))}}},t={name:"DTable",props:{default:Object,inputs:Array,submitCallback:Function,modelValue:{type:Object,default:function(){return{}}},url:String,method:String},emits:["update","onSubmit","update:modelValue"],setup:function(t,e){var u=e.slots,a=e.emit,l={QInput:d.QInput,QSelect:d.QSelect,QBtn:d.QBtn,QRange:d.QRange,QDate:d.QDate,QRadio:d.QRadio,QCheckbox:d.QCheckbox,QOptionGroup:d.QOptionGroup,QSlider:d.QSlider,QToggle:d.QToggle},n=f.ref(null),o=f.ref(!1);function i(){t.inputs.forEach(function(e){return t.modelValue[e.default.name]=null})}function r(){a("onSubmit")}return f.onBeforeMount(function(){t.default.class+=" MForm",t.inputs.forEach(function(n){n.initialValue&&(t.modelValue[n.default.name]=n.initialValue),"function"==typeof n.getData&&(n.default.loading=!0,n.getData().then(function(e){n.default.options=e,n.default.loading=!1}).catch(function(e){console.log(e),n.default.loading=!1}))})}),function(){return o.value?f.h("div",{innerHTML:"Loading..."}):f.h(d.QForm,Object.assign({},t.default,{autofocus:!0,ref:n,onreset:i,submit:r}),t.inputs.map(function(n){return f.h("div",{class:"MForm__input "+n.cols},[null!=u["before-input-"+n.default.name]?u["before-input-"+n.default.name]():null,null==u["input-"+n.default.name]?f.h(l[n.component],Object.assign({},n.default,{modelValue:t.modelValue[n.default.name],"onUpdate:modelValue":function(e){t.modelValue[n.default.name]=e,a("update:modelValue",t.modelValue)}})):u["input-"+n.default.name](),null!=u["after-input-"+n.default.name]?u["after-input-"+n.default.name]():null])}))}}};return Object.freeze({__proto__:null,version:"0.0.1",DForm:n,DDate:c,DTable:t,install:function(e){e.component(n.name,n),e.component(c.name,c),e.component(t.name,t)}})});